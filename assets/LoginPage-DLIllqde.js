import{Q as y,a as m,b as c}from"./QCard-DSim-vQw.js";import{d as w,u as x,r as s,c as V,o as p,a,w as o,e as h,f as Q,g as _,h as b,i as k,j as B,Q as C,k as S,t as q}from"./index-DDweDHnI.js";import{Q as N}from"./QBanner-B8ayu7SO.js";import"./focus-manager-DnPWlgXC.js";const L={class:"row items-center justify-center q-pa-md",style:{"min-height":"100vh"}},R=w({__name:"LoginPage",setup(j){const f=x(),v=h(),g=Q(),n=s(""),r=s(""),u=s(!1),t=s("");async function d(){t.value="",u.value=!0;try{await f.login(n.value.trim(),r.value);const l=g.query.next||"/";v.replace(l)}catch(l){t.value=l?.response?.data?.error||"Login failed"}finally{u.value=!1}}return(l,e)=>(p(),V("div",L,[a(y,{style:{width:"360px","max-width":"90vw"}},{default:o(()=>[a(m,null,{default:o(()=>[...e[2]||(e[2]=[_("div",{class:"text-h6"},"Admin Login",-1)])]),_:1}),a(m,{class:"q-gutter-sm"},{default:o(()=>[a(c,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=i=>n.value=i),type:"email",label:"Email",dense:"",autofocus:""},null,8,["modelValue"]),a(c,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=i=>r.value=i),type:"password",label:"Password",dense:"",onKeyup:B(d,["enter"])},null,8,["modelValue"]),a(C,{label:"Sign in",color:"primary",class:"full-width",loading:u.value,onClick:d},null,8,["loading"]),t.value?(p(),b(N,{key:0,class:"bg-red-2 text-red-9 q-mt-sm"},{default:o(()=>[S(q(t.value),1)]),_:1})):k("",!0)]),_:1})]),_:1})]))}});export{R as default};
